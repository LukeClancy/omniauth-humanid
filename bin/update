#!/bin/env ruby
#this is for development and should not be for actual updates,
#   I just got annoyed with the number of things you had to do to get the updated
#   version on your machine. Even after this you have to update and restart your website...
#   maybe ill make a script for that too
x = File.read('./omniauth-humanid.gemspec')
x = x.split("\n")
puts x.class
puts x.length
puts x
puts "_______________________________________________"
version = eval(x[0])
puts "version: #{version}"
puts "_______________________________________________"
version = version.split('.')
version[-1] = ((version[-1].to_i) + 1).to_s
version_new = version.join('.')
puts "version_new: #{version_new}"
puts "_______________________________________________"
x[0] = "version = '#{version_new}'"
puts "x[0] => #{x[0]}"
puts "_______________________________________________"
x = x.join("\n")
puts x
File.write('./omniauth-humanid.gemspec', x)
puts "_______________________________________________"
puts `git add *`
puts "_______________________________________________"
puts `git commit -m 'minor changes to version #{version_new}'`
puts "_______________________________________________"
puts `bundle exec rake install`